(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,49824,(e,s,t)=>{"use strict";var a=e.r(86577).__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;t.c=function(e){return a.H.useMemoCache(e)}},93120,(e,s,t)=>{"use strict";s.exports=e.r(49824)},542,e=>{"use strict";var s=e.i(29584),t=e.i(93120),a=e.i(86577);function i(e){let i,n,d,c,r,o,x=(0,t.c)(14),{profiles:m}=e,[u,h]=(0,a.useState)(m),[f,b]=(0,a.useState)(null),[p,N]=(0,a.useState)(null);x[0]===Symbol.for("react.memo_cache_sentinel")?(i=async(e,s)=>{b(e),N(null);let t=await fetch("/api/admin/moderate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jobseekerId:e,action:s})}),a=await t.json();if(!t.ok){N(a.error||"Action failed"),b(null);return}h(s=>s.map(s=>s.id===e?{...s,moderation_status:a.moderation_status??s.moderation_status,visibility:a.visibility??s.visibility}:s)),b(null)},x[0]=i):i=x[0];let j=i;if(x[1]===Symbol.for("react.memo_cache_sentinel")?(n=(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Moderate Profiles"}),(0,s.jsx)("p",{className:"text-sm text-slate-600",children:"Flag, unflag, or hide Profiles that appear abusive or fake. Hidden Profiles are removed from the directory."})]}),x[1]=n):n=x[1],x[2]!==p?(d=p?(0,s.jsx)("p",{className:"mt-2 text-sm text-red-600",children:p}):null,x[2]=p,x[3]=d):d=x[3],x[4]!==u||x[5]!==f){let e;x[7]!==f?(e=e=>(0,s.jsxs)("div",{className:"card p-5",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-slate-500",children:e.profiles?.full_name||"Unknown"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:e.headline}),(0,s.jsxs)("p",{className:"text-xs text-slate-600",children:["Updated ",new Date(e.updated_at).toLocaleDateString()]})]}),(0,s.jsxs)("div",{className:"flex flex-col items-end gap-1 text-xs font-semibold",children:[(0,s.jsxs)("span",{className:"badge",children:["Status: ",e.moderation_status]}),(0,s.jsxs)("span",{className:"badge",children:["Visibility: ",e.visibility]})]})]}),(0,s.jsx)("div",{className:"mt-3 flex flex-wrap gap-2 text-xs text-slate-700",children:e.skills?.slice(0,6).map(l)}),(0,s.jsxs)("p",{className:"mt-2 text-xs text-slate-600",children:["Experience: ",e.years_experience??"N/A"," yrs â€¢ Location: ",e.location||"Not specified"]}),(0,s.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2 text-xs font-semibold",children:[(0,s.jsx)("button",{onClick:()=>j(e.id,"flag"),disabled:f===e.id,className:"btn btn-secondary text-xs",children:"Flag"}),(0,s.jsx)("button",{onClick:()=>j(e.id,"unflag"),disabled:f===e.id,className:"btn btn-secondary text-xs",children:"Unflag"}),(0,s.jsx)("button",{onClick:()=>j(e.id,"hide"),disabled:f===e.id,className:"btn btn-destructive text-xs",children:"Hide (suspend)"}),(0,s.jsx)("button",{onClick:()=>j(e.id,"unhide"),disabled:f===e.id,className:"btn btn-secondary text-xs",children:"Unhide"})]})]},e.id),x[7]=f,x[8]=e):e=x[8],c=u.map(e),x[4]=u,x[5]=f,x[6]=c}else c=x[6];return x[9]!==c?(r=(0,s.jsx)("div",{className:"mt-4 grid gap-4 md:grid-cols-2",children:c}),x[9]=c,x[10]=r):r=x[10],x[11]!==d||x[12]!==r?(o=(0,s.jsxs)("div",{className:"card p-6",children:[n,d,r]}),x[11]=d,x[12]=r,x[13]=o):o=x[13],o}function l(e){return(0,s.jsx)("span",{className:"badge",children:e},e)}e.s(["default",()=>i])}]);