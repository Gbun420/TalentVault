(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,11362,e=>{"use strict";var t=e.i(46966),s=e.i(29584),a=e.i(86577),l=e.i(34129),i=e.i(2068),r=e.i(30389),n=e.i(27520);e.i(24540);var m=e.i(10500);e.i(75470);var c=e.i(45825);function o(){let e=(0,l.useRouter)(),[o,u]=(0,a.useState)(!1),[d,x]=(0,a.useState)(null);(0,a.useEffect)(()=>{if("true"===t.default.env.NEXT_PUBLIC_E2E_AUTH_BYPASS)return void e.replace("/jobseeker")},[e]);let h=async t=>{t.preventDefault();let s=new FormData(t.currentTarget),a=String(s.get("full_name")||"").trim(),l=String(s.get("email")||"").trim(),i=String(s.get("password")||""),o=s.get("role")||"jobseeker";x(null),u(!0);try{let t=(await (0,m.createUserWithEmailAndPassword)(r.auth,l,i)).user;t&&(await (0,m.sendEmailVerification)(t,{url:`${n.env.siteUrl}/auth/callback?role=${encodeURIComponent(o)}&full_name=${encodeURIComponent(a)}`,handleCodeInApp:!0}),await (0,c.setDoc)((0,c.doc)(r.db,"profiles",t.uid),{full_name:a,email:t.email,role:o,createdAt:new Date().toISOString()}),e.push("/auth/verify-email-message"))}catch(e){x(e instanceof Error?e.message:"Something went wrong")}finally{u(!1)}};return(0,s.jsx)("div",{className:"flex min-h-[70vh] items-center justify-center px-4",children:(0,s.jsxs)("div",{className:"card w-full max-w-md p-8",children:[(0,s.jsxs)("div",{className:"mb-6 text-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold text-slate-900",children:"Create account"}),(0,s.jsx)("p",{className:"text-sm text-slate-600",children:"Choose whether you are hiring or publishing your Profile."})]}),(0,s.jsxs)("form",{className:"space-y-4",onSubmit:h,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Full name"}),(0,s.jsx)("input",{name:"full_name",required:!0,className:"input mt-1"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Email"}),(0,s.jsx)("input",{name:"email",type:"email",required:!0,className:"input mt-1"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Password"}),(0,s.jsx)("input",{name:"password",type:"password",minLength:6,required:!0,className:"input mt-1"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Account type"}),(0,s.jsxs)("select",{name:"role",defaultValue:"jobseeker",className:"input mt-1",children:[(0,s.jsx)("option",{value:"jobseeker",children:"Jobseeker"}),(0,s.jsx)("option",{value:"employer",children:"Employer"})]})]}),d?(0,s.jsx)("p",{className:"text-sm text-red-600",children:d}):null,(0,s.jsx)("button",{type:"submit",disabled:o,className:"btn btn-primary w-full",children:o?"Creating account...":"Sign up"})]}),(0,s.jsxs)("p",{className:"mt-4 text-sm text-center text-slate-600",children:["Already have an account?"," ",(0,s.jsx)(i.default,{className:"text-blue-700 hover:underline",href:"/auth/login",children:"Login"})]})]})})}e.s(["default",()=>o])}]);